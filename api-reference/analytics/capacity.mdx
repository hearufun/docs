---
title: "Get Capacity Analytics"
api: "GET https://api.talkos.io/api/analytics/capacity"
description: "Retrieve system capacity metrics including peak concurrent calls, average queue wait time, and utilization rate"
---

## Overview

Get capacity analytics to understand system utilization, identify peak usage patterns, and plan for scaling. This endpoint provides insights into concurrent call handling, queue performance, and resource utilization.

## Headers

<ParamField header="x-api-key" type="string" required>
  Your TalkOS API key for authentication
</ParamField>

<ParamField header="x-tenant-id" type="string" required>
  Your tenant identifier
</ParamField>

## Query Parameters

<ParamField query="startDate" type="string" required>
  Start date for the query range in ISO 8601 format
</ParamField>

<ParamField query="endDate" type="string" required>
  End date for the query range in ISO 8601 format
</ParamField>

<ParamField query="groupBy" type="string" default="hour">
  Group results by time period. Options: `hour`, `day`, `week`
</ParamField>

<ParamField query="timezone" type="string" default="UTC">
  Timezone for grouping (e.g., `America/New_York`, `Europe/London`)
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Indicates if the request was successful
</ResponseField>

<ResponseField name="data" type="object">
  <Expandable title="properties">
    <ResponseField name="summary" type="object">
      Aggregate capacity metrics
      <Expandable title="properties">
        <ResponseField name="peakConcurrent" type="integer">
          Maximum concurrent calls during the period
        </ResponseField>
        <ResponseField name="avgConcurrent" type="number">
          Average concurrent calls
        </ResponseField>
        <ResponseField name="maxCapacity" type="integer">
          Your tenant's maximum capacity (concurrent call limit)
        </ResponseField>
        <ResponseField name="utilizationRate" type="number">
          Peak utilization as percentage of max capacity
        </ResponseField>
        <ResponseField name="avgUtilization" type="number">
          Average utilization percentage
        </ResponseField>
        <ResponseField name="avgQueueWait" type="number">
          Average queue wait time in seconds
        </ResponseField>
        <ResponseField name="maxQueueWait" type="number">
          Maximum queue wait time observed
        </ResponseField>
        <ResponseField name="queueTimeouts" type="integer">
          Number of calls that exceeded queue timeout
        </ResponseField>
        <ResponseField name="avgQueueDepth" type="number">
          Average number of calls waiting in queue
        </ResponseField>
        <ResponseField name="maxQueueDepth" type="integer">
          Maximum queue depth observed
        </ResponseField>
      </Expandable>
    </ResponseField>
    <ResponseField name="peakHours" type="array">
      Hours with highest utilization
      <Expandable title="peak hour">
        <ResponseField name="hour" type="integer">
          Hour of day (0-23)
        </ResponseField>
        <ResponseField name="dayOfWeek" type="string">
          Day of week
        </ResponseField>
        <ResponseField name="avgConcurrent" type="number">
          Average concurrent calls during this hour
        </ResponseField>
        <ResponseField name="peakConcurrent" type="integer">
          Peak concurrent calls during this hour
        </ResponseField>
        <ResponseField name="avgUtilization" type="number">
          Average utilization percentage
        </ResponseField>
      </Expandable>
    </ResponseField>
    <ResponseField name="timeline" type="array">
      Capacity metrics over time
      <Expandable title="timeline entry">
        <ResponseField name="timestamp" type="string">
          Period start time
        </ResponseField>
        <ResponseField name="concurrent" type="number">
          Average concurrent calls
        </ResponseField>
        <ResponseField name="peakConcurrent" type="integer">
          Peak concurrent in this period
        </ResponseField>
        <ResponseField name="queueDepth" type="number">
          Average queue depth
        </ResponseField>
        <ResponseField name="queueWait" type="number">
          Average queue wait time
        </ResponseField>
        <ResponseField name="utilization" type="number">
          Utilization percentage
        </ResponseField>
      </Expandable>
    </ResponseField>
    <ResponseField name="capacityEvents" type="array">
      Notable capacity events (near-limit or at-limit)
      <Expandable title="capacity event">
        <ResponseField name="timestamp" type="string">
          Event time
        </ResponseField>
        <ResponseField name="type" type="string">
          Event type: `near_capacity`, `at_capacity`, `queue_spike`
        </ResponseField>
        <ResponseField name="concurrent" type="integer">
          Concurrent calls at event time
        </ResponseField>
        <ResponseField name="queueDepth" type="integer">
          Queue depth at event time
        </ResponseField>
        <ResponseField name="duration" type="integer">
          Duration of event in seconds
        </ResponseField>
      </Expandable>
    </ResponseField>
    <ResponseField name="recommendations" type="array">
      System recommendations based on capacity analysis
      <Expandable title="recommendation">
        <ResponseField name="type" type="string">
          Recommendation type
        </ResponseField>
        <ResponseField name="priority" type="string">
          Priority: `high`, `medium`, `low`
        </ResponseField>
        <ResponseField name="message" type="string">
          Recommendation description
        </ResponseField>
      </Expandable>
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>
```bash cURL
curl -X GET "https://api.talkos.io/api/analytics/capacity?startDate=2026-02-01T00:00:00Z&endDate=2026-02-18T23:59:59Z&groupBy=hour&timezone=America/New_York" \
  -H "x-api-key: your-api-key" \
  -H "x-tenant-id: your-tenant-id"
```

```javascript JavaScript
const params = new URLSearchParams({
  startDate: '2026-02-01T00:00:00Z',
  endDate: '2026-02-18T23:59:59Z',
  groupBy: 'hour',
  timezone: 'America/New_York'
});

const response = await fetch(`https://api.talkos.io/api/analytics/capacity?${params}`, {
  method: 'GET',
  headers: {
    'x-api-key': 'your-api-key',
    'x-tenant-id': 'your-tenant-id'
  }
});

const data = await response.json();
```

```python Python
import requests

response = requests.get(
    'https://api.talkos.io/api/analytics/capacity',
    params={
        'startDate': '2026-02-01T00:00:00Z',
        'endDate': '2026-02-18T23:59:59Z',
        'groupBy': 'hour',
        'timezone': 'America/New_York'
    },
    headers={
        'x-api-key': 'your-api-key',
        'x-tenant-id': 'your-tenant-id'
    }
)

data = response.json()
```
</RequestExample>

<ResponseExample>
```json 200
{
  "success": true,
  "data": {
    "summary": {
      "peakConcurrent": 87,
      "avgConcurrent": 34.6,
      "maxCapacity": 100,
      "utilizationRate": 87.0,
      "avgUtilization": 34.6,
      "avgQueueWait": 4.2,
      "maxQueueWait": 48.5,
      "queueTimeouts": 12,
      "avgQueueDepth": 1.8,
      "maxQueueDepth": 23
    },
    "peakHours": [
      {
        "hour": 10,
        "dayOfWeek": "Monday",
        "avgConcurrent": 72.4,
        "peakConcurrent": 87,
        "avgUtilization": 72.4
      },
      {
        "hour": 14,
        "dayOfWeek": "Tuesday",
        "avgConcurrent": 68.2,
        "peakConcurrent": 82,
        "avgUtilization": 68.2
      },
      {
        "hour": 11,
        "dayOfWeek": "Wednesday",
        "avgConcurrent": 65.8,
        "peakConcurrent": 79,
        "avgUtilization": 65.8
      }
    ],
    "timeline": [
      {
        "timestamp": "2026-02-18T09:00:00-05:00",
        "concurrent": 42.3,
        "peakConcurrent": 58,
        "queueDepth": 2.1,
        "queueWait": 3.8,
        "utilization": 42.3
      },
      {
        "timestamp": "2026-02-18T10:00:00-05:00",
        "concurrent": 68.7,
        "peakConcurrent": 85,
        "queueDepth": 8.4,
        "queueWait": 12.6,
        "utilization": 68.7
      },
      {
        "timestamp": "2026-02-18T11:00:00-05:00",
        "concurrent": 54.2,
        "peakConcurrent": 71,
        "queueDepth": 3.2,
        "queueWait": 5.1,
        "utilization": 54.2
      }
    ],
    "capacityEvents": [
      {
        "timestamp": "2026-02-17T10:23:45-05:00",
        "type": "near_capacity",
        "concurrent": 92,
        "queueDepth": 18,
        "duration": 420
      },
      {
        "timestamp": "2026-02-12T14:15:30-05:00",
        "type": "at_capacity",
        "concurrent": 100,
        "queueDepth": 23,
        "duration": 180
      }
    ],
    "recommendations": [
      {
        "type": "capacity_increase",
        "priority": "high",
        "message": "Peak utilization exceeded 85% on 3 occasions. Consider increasing capacity to 125 concurrent calls."
      },
      {
        "type": "queue_optimization",
        "priority": "medium",
        "message": "Queue wait times spike during 10AM-11AM. Consider adding overflow routing during peak hours."
      }
    ]
  }
}
```

```json 400
{
  "success": false,
  "error": {
    "code": "INVALID_PARAMETERS",
    "message": "Invalid timezone. Use IANA timezone format (e.g., America/New_York)"
  }
}
```

```json 401
{
  "success": false,
  "error": {
    "code": "UNAUTHORIZED",
    "message": "Invalid or missing API key"
  }
}
```
</ResponseExample>

## Understanding Capacity Metrics

<CardGroup cols={2}>
  <Card title="Utilization Rate" icon="gauge-high">
    Percentage of maximum capacity in use. Keep below 80% for optimal performance with room for spikes.
  </Card>
  <Card title="Queue Wait Time" icon="clock">
    Time callers spend waiting before connection. Target under 10 seconds for best customer experience.
  </Card>
  <Card title="Queue Depth" icon="list">
    Number of callers waiting at any time. High depth indicates need for more capacity.
  </Card>
  <Card title="Capacity Events" icon="triangle-exclamation">
    Instances where system approached or reached limits. Review for scaling decisions.
  </Card>
</CardGroup>

## Capacity Planning

<AccordionGroup>
  <Accordion title="Identify Peak Patterns">
    Use `peakHours` data to understand when demand is highest. Schedule non-critical operations during off-peak times.
  </Accordion>
  <Accordion title="Set Alert Thresholds">
    Configure alerts when utilization exceeds 75% to proactively address capacity before it impacts customers.
  </Accordion>
  <Accordion title="Plan for Growth">
    If average utilization exceeds 50%, plan capacity increases. Use `projectedAnnual` from cost analytics to budget accordingly.
  </Accordion>
  <Accordion title="Implement Overflow">
    Configure overflow routing to backup systems or human agents when queue depth exceeds thresholds.
  </Accordion>
</AccordionGroup>

## Capacity Tiers

| Tier | Max Concurrent | Max Queue Depth | Queue Timeout |
|------|----------------|-----------------|---------------|
| Starter | 25 | 10 | 30s |
| Growth | 100 | 50 | 60s |
| Scale | 500 | 200 | 120s |
| Enterprise | Custom | Custom | Custom |

<Warning>
  When capacity is exceeded, new calls are queued. If the queue is full, calls receive a busy signal. Monitor capacity events to prevent customer impact.
</Warning>

## Rate Limits

- **Standard tier**: 30 requests per minute
- **Enterprise tier**: 120 requests per minute
