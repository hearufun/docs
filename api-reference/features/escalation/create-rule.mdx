---
title: "Create Escalation Rule"
description: "Create a custom escalation rule"
api: "POST https://api.talkos.io/api/features/escalation/rules"
---

# Create Escalation Rule

Create a new custom escalation rule with configurable triggers, conditions, and actions.

## Endpoint

```
POST /api/features/escalation/rules
```

## Headers

<ParamField header="x-api-key" type="string" required>
  Your TalkOS API key for authentication
</ParamField>

<ParamField header="x-tenant-id" type="string" required>
  Your unique tenant identifier
</ParamField>

## Request Body

<ParamField body="name" type="string" required>
  Human-readable name for the rule
</ParamField>

<ParamField body="description" type="string">
  Description of what the rule does
</ParamField>

<ParamField body="trigger" type="string" required>
  Primary trigger type: `sentiment`, `keyword`, `duration`, or `intent`
</ParamField>

<ParamField body="conditions" type="array" required>
  Array of condition objects that must be met
</ParamField>

<ParamField body="conditions[].field" type="string" required>
  The field to evaluate (e.g., `sentiment`, `emotion`, `callDurationSeconds`, `keyword`)
</ParamField>

<ParamField body="conditions[].operator" type="string" required>
  Comparison operator: `eq`, `neq`, `gt`, `gte`, `lt`, `lte`, `in`, `contains`
</ParamField>

<ParamField body="conditions[].value" type="any" required>
  Value to compare against
</ParamField>

<ParamField body="logic" type="string">
  Logic for multiple conditions: `AND` (default) or `OR`
</ParamField>

<ParamField body="action" type="object" required>
  Action to take when rule triggers
</ParamField>

<ParamField body="action.type" type="string" required>
  Action type: `transfer`, `notify`, or `flag`
</ParamField>

<ParamField body="action.target" type="string" required>
  Target for the action (e.g., `supervisor`, `senior_agent`, `compliance`)
</ParamField>

<ParamField body="priority" type="string" required>
  Priority level: `low`, `medium`, `high`, or `critical`
</ParamField>

<ParamField body="cooldownSeconds" type="number">
  Cooldown period before rule can re-trigger (default: 60)
</ParamField>

<ParamField body="enabled" type="boolean">
  Whether the rule is active (default: true)
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Whether the rule was created successfully
</ResponseField>

<ResponseField name="rule" type="object">
  The created escalation rule
</ResponseField>

<ResponseField name="rule.id" type="string">
  Unique identifier for the rule
</ResponseField>

<ResponseField name="rule.name" type="string">
  Name of the rule
</ResponseField>

<ResponseField name="rule.conditions" type="array">
  Array of conditions
</ResponseField>

<ResponseField name="rule.priority" type="string">
  Priority level
</ResponseField>

<ResponseField name="rule.action" type="object">
  Action configuration
</ResponseField>

<ResponseField name="rule.enabled" type="boolean">
  Whether the rule is active
</ResponseField>

<ResponseField name="rule.createdAt" type="string">
  ISO 8601 timestamp when the rule was created
</ResponseField>

<RequestExample>
```bash cURL
curl -X POST https://api.talkos.io/api/features/escalation/rules \
  -H "Content-Type: application/json" \
  -H "x-api-key: your-api-key" \
  -H "x-tenant-id: your-tenant-id" \
  -d '{
    "name": "Refund Request Escalation",
    "description": "Escalate calls mentioning refunds over $500",
    "trigger": "keyword",
    "conditions": [
      { "field": "keyword", "operator": "contains", "value": "refund" },
      { "field": "mentionedAmount", "operator": "gte", "value": 500 }
    ],
    "logic": "AND",
    "action": { "type": "transfer", "target": "supervisor" },
    "priority": "high",
    "cooldownSeconds": 120
  }'
```

```javascript JavaScript
const response = await fetch('https://api.talkos.io/api/features/escalation/rules', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'x-api-key': 'your-api-key',
    'x-tenant-id': 'your-tenant-id'
  },
  body: JSON.stringify({
    name: 'Refund Request Escalation',
    description: 'Escalate calls mentioning refunds over $500',
    trigger: 'keyword',
    conditions: [
      { field: 'keyword', operator: 'contains', value: 'refund' },
      { field: 'mentionedAmount', operator: 'gte', value: 500 }
    ],
    logic: 'AND',
    action: { type: 'transfer', target: 'supervisor' },
    priority: 'high',
    cooldownSeconds: 120
  })
});

const data = await response.json();
```

```python Python
import requests

response = requests.post(
    'https://api.talkos.io/api/features/escalation/rules',
    headers={
        'Content-Type': 'application/json',
        'x-api-key': 'your-api-key',
        'x-tenant-id': 'your-tenant-id'
    },
    json={
        'name': 'Refund Request Escalation',
        'description': 'Escalate calls mentioning refunds over $500',
        'trigger': 'keyword',
        'conditions': [
            {'field': 'keyword', 'operator': 'contains', 'value': 'refund'},
            {'field': 'mentionedAmount', 'operator': 'gte', 'value': 500}
        ],
        'logic': 'AND',
        'action': {'type': 'transfer', 'target': 'supervisor'},
        'priority': 'high',
        'cooldownSeconds': 120
    }
)

data = response.json()
```
</RequestExample>

<ResponseExample>
```json 200
{
  "success": true,
  "rule": {
    "id": "rule_custom_abc123",
    "name": "Refund Request Escalation",
    "description": "Escalate calls mentioning refunds over $500",
    "conditions": [
      { "field": "keyword", "operator": "contains", "value": "refund" },
      { "field": "mentionedAmount", "operator": "gte", "value": 500 }
    ],
    "logic": "AND",
    "priority": "high",
    "action": { "type": "transfer", "target": "supervisor" },
    "cooldownSeconds": 120,
    "enabled": true,
    "builtIn": false,
    "createdAt": "2026-02-18T10:30:00.000Z"
  }
}
```

```json 500
{
  "error": "Failed to create escalation rule"
}
```
</ResponseExample>

## Trigger Types

| Trigger | Description | Example Conditions |
|---------|-------------|-------------------|
| `sentiment` | Based on sentiment analysis | `consecutiveNegativeTurns >= 3` |
| `keyword` | Based on detected keywords | `keyword contains "cancel"` |
| `duration` | Based on call duration | `callDurationSeconds >= 600` |
| `intent` | Based on detected intent | `intent eq "complaint"` |

## Action Types

| Action | Description |
|--------|-------------|
| `transfer` | Transfer the call to specified target |
| `notify` | Send notification to specified target |
| `flag` | Flag the call for review |

## Priority Levels

| Priority | Description |
|----------|-------------|
| `low` | Informational, no immediate action required |
| `medium` | Should be addressed soon |
| `high` | Requires prompt attention |
| `critical` | Immediate action required |
