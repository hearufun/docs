---
title: 'Authentication'
description: 'How to authenticate with the TalkOS API'
---

## Overview

TalkOS uses **API Key authentication** combined with **Tenant ID** headers for all API requests. This ensures both security and proper multi-tenant isolation.

## Authentication Headers

Every API request must include these headers:

| Header | Description | Required |
|--------|-------------|----------|
| `x-api-key` | Your tenant's API key | ✅ Yes |
| `x-tenant-id` | Your tenant ID | ✅ Yes |
| `Content-Type` | `application/json` for POST/PUT requests | For POST/PUT |

## Example Request

```bash
curl -X GET https://api.talkos.io/api/analytics/realtime \
  -H "x-api-key: tk_live_xxxxxxxxxxxxxxxxxxxx" \
  -H "x-tenant-id: tenant_abc123"
```

## Getting Your Credentials

### 1. From Tenant Creation Response

When you create a tenant, the API returns your credentials:

```json
{
  "success": true,
  "tenant": {
    "tenantId": "tenant_abc123",
    "apiKey": "tk_live_xxxxxxxxxxxxxxxxxxxx"
  }
}
```

### 2. Rotating API Keys

If your API key is compromised, rotate it immediately:

```bash
curl -X POST https://api.talkos.io/api/tenants/tenant_abc123/rotate-key \
  -H "x-api-key: tk_live_xxxxxxxxxxxxxxxxxxxx" \
  -H "x-tenant-id: tenant_abc123"
```

The response includes your new API key. The old key is immediately invalidated.

## API Key Types

| Prefix | Environment | Use Case |
|--------|-------------|----------|
| `tk_live_` | Production | Live voice calls, real charges |
| `tk_test_` | Sandbox | Testing, no real calls made |

<Warning>
**Never expose your API key in client-side code!** API keys should only be used in server-to-server communication.
</Warning>

## Admin Authentication

For admin dashboard access, TalkOS uses **JWT-based authentication**:

### Register Admin User

```bash
curl -X POST https://api.talkos.io/api/admin/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@company.com",
    "password": "SecurePassword123!",
    "name": "Admin User"
  }'
```

### Login

```bash
curl -X POST https://api.talkos.io/api/admin/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@company.com",
    "password": "SecurePassword123!"
  }'
```

Response:
```json
{
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "expiresIn": 86400,
  "user": {
    "id": "user_123",
    "email": "admin@company.com",
    "name": "Admin User",
    "role": "admin"
  }
}
```

### Using JWT Token

For admin endpoints, use the `Authorization` header:

```bash
curl -X GET https://api.talkos.io/api/admin/me \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
```

## Error Responses

### Invalid API Key

```json
{
  "success": false,
  "error": "Invalid API key",
  "code": "INVALID_API_KEY",
  "statusCode": 401
}
```

### Missing Tenant ID

```json
{
  "success": false,
  "error": "Missing x-tenant-id header",
  "code": "MISSING_TENANT_ID",
  "statusCode": 400
}
```

### Tenant Not Found

```json
{
  "success": false,
  "error": "Tenant not found",
  "code": "TENANT_NOT_FOUND",
  "statusCode": 404
}
```

### Tenant Suspended

```json
{
  "success": false,
  "error": "Tenant is suspended",
  "code": "TENANT_SUSPENDED",
  "statusCode": 403
}
```

## Security Best Practices

<AccordionGroup>
  <Accordion title="Store API Keys Securely" icon="lock">
    - Use environment variables, never hardcode
    - Use secrets management (AWS Secrets Manager, HashiCorp Vault, etc.)
    - Never commit API keys to version control
  </Accordion>
  
  <Accordion title="Rotate Keys Periodically" icon="rotate">
    - Rotate API keys every 90 days
    - Rotate immediately if compromised
    - Implement zero-downtime rotation in your app
  </Accordion>
  
  <Accordion title="Use IP Allowlisting" icon="shield">
    Contact support to enable IP allowlisting for your tenant. Only requests from approved IPs will be accepted.
  </Accordion>
  
  <Accordion title="Monitor API Usage" icon="chart-line">
    - Use the `/api/tenants/{tenantId}/usage` endpoint
    - Set up alerts for unusual activity
    - Review audit logs regularly
  </Accordion>
</AccordionGroup>

## Rate Limits by Authentication

| Auth Type | Rate Limit |
|-----------|------------|
| API Key (Standard) | 100 requests/minute |
| API Key (Enterprise) | 1,000 requests/minute |
| Admin JWT | 60 requests/minute |

See [Rate Limits](/api-reference/rate-limits) for more details.
